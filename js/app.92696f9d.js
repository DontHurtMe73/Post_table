(function(){"use strict";var t={9560:function(t,e,s){var a=s(9242),o=s(3396),n=s(7139);const r={class:"container"},l={class:"table"},i={class:"table__header"},c={class:"table__head table__head--id"},d={class:"table__head table__head--title"},u={class:"table__head table__head--dsc"},_={class:"pagination__wrapper"},p={class:"pagination"},h=["onClick"];function v(t,e,s,a,v,b){const f=(0,o.up)("search-form"),g=(0,o.up)("post-item");return(0,o.wg)(),(0,o.iD)("div",r,[(0,o.Wm)(f,{modelValue:v.searchQuery,"onUpdate:modelValue":e[0]||(e[0]=t=>v.searchQuery=t)},null,8,["modelValue"]),(0,o._)("table",l,[(0,o._)("thead",i,[(0,o._)("tr",null,[(0,o._)("th",c,[(0,o._)("button",{class:(0,n.C_)(["filter__btn",{"filter__btn--active":this.switch}]),onClick:e[1]||(e[1]=t=>v.selectedSort="id")},"ID",2)]),(0,o._)("th",d,[(0,o._)("button",{class:"filter__btn",onClick:e[2]||(e[2]=t=>v.selectedSort="title")},"Заголовок")]),(0,o._)("th",u,[(0,o._)("button",{class:"filter__btn",onClick:e[3]||(e[3]=t=>v.selectedSort="body")},"Описание")])])]),(0,o._)("tbody",null,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(b.sortedAndSearchedPosts,(t=>((0,o.wg)(),(0,o.j4)(g,{post:t,key:t.id},null,8,["post"])))),128))])]),(0,o._)("div",_,[(0,o._)("button",{class:"btn btn__prev",onClick:e[4]||(e[4]=(...t)=>b.prevPage&&b.prevPage(...t))},"Назад"),(0,o._)("ul",p,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(v.totalPages,(t=>((0,o.wg)(),(0,o.iD)("li",{class:(0,n.C_)({"current-page":v.page===t}),key:t,onClick:e=>b.changePage(t)},(0,n.zw)(t),11,h)))),128))]),(0,o._)("button",{class:"btn btn__next",onClick:e[5]||(e[5]=(...t)=>b.nextPage&&b.nextPage(...t))},"Далее")])])}s(6699);var b=s(6265),f=s.n(b);const g={class:"table"},m={class:"table__header"},w={class:"table__head table__head--id"},y={class:"table__head table__head--title"},C={class:"table__head table__head--dsc"};function P(t,e,s,a,n,r){const l=(0,o.up)("post-item");return(0,o.wg)(),(0,o.iD)("table",g,[(0,o._)("thead",m,[(0,o._)("tr",null,[(0,o._)("th",w,[(0,o._)("button",{class:"filter__btn","data-value":"id",onClick:e[0]||(e[0]=(...t)=>r.testFun&&r.testFun(...t))},"ID")]),(0,o._)("th",y,[(0,o._)("button",{class:"filter__btn","data-value":"title",onClick:e[1]||(e[1]=(...t)=>r.testFun&&r.testFun(...t))},"Заголовок")]),(0,o._)("th",C,[(0,o._)("button",{value:"42",class:"filter__btn","data-value":"body",onClick:e[2]||(e[2]=(...t)=>r.testFun&&r.testFun(...t))},"Описание")])])]),(0,o._)("tbody",null,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(s.posts,(t=>((0,o.wg)(),(0,o.j4)(l,{post:t,key:t.id},null,8,["post"])))),128))])])}const k={class:"table__data"},S={class:"table__data"},D={class:"table__data"};function x(t,e,s,a,r,l){return(0,o.wg)(),(0,o.iD)("tr",null,[(0,o._)("td",k,(0,n.zw)(s.post.id),1),(0,o._)("td",S,(0,n.zw)(s.post.title),1),(0,o._)("td",D,(0,n.zw)(s.post.body),1)])}var I={props:{post:{type:Object,requered:!0}}},O=s(89);const j=(0,O.Z)(I,[["render",x],["__scopeId","data-v-4f99cd8c"]]);var F=j,L={components:{PostItem:F},props:{posts:{type:Array,requered:!0}},methods:{testFun(t){console.log(t.target.dataset.value)}}};const Z=(0,O.Z)(L,[["render",P],["__scopeId","data-v-aaeca826"]]);var V=Z;const M=t=>((0,o.dD)("data-v-c18615ca"),t=t(),(0,o.Cn)(),t),z=["value"],Q=M((()=>(0,o._)("button",{class:"btn__search",type:"submit"},[(0,o._)("svg",{width:"21",height:"21",viewBox:"0 0 21 21",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,o._)("path",{d:"M20.7353 19.4958L14.7101 13.4663C15.8979 12.0418 16.6124 10.2213 16.6124 8.23301C16.6124 3.69689 12.8896 0.00860596 8.31048 0.00860596C3.73132 0.00860596 0 3.70119 0 8.23731C0 12.7734 3.72272 16.4617 8.30187 16.4617C10.2472 16.4617 12.0375 15.7946 13.4577 14.68L19.5045 20.7267C19.8574 21.0796 20.3824 21.0796 20.7353 20.7267C21.0882 20.3738 21.0882 19.8487 20.7353 19.4958ZM1.76452 8.23731C1.76452 4.67383 4.69966 1.77743 8.30187 1.77743C11.9041 1.77743 14.8392 4.67383 14.8392 8.23731C14.8392 11.8008 11.9041 14.6972 8.30187 14.6972C4.69966 14.6972 1.76452 11.7965 1.76452 8.23731Z",fill:"white"})])],-1)));function A(t,e,s,n,r,l){return(0,o.wg)(),(0,o.iD)("form",{onSubmit:e[1]||(e[1]=(0,a.iM)((()=>{}),["prevent"])),class:"search__form"},[(0,o._)("input",{class:"search__field",type:"text",placeholder:"Поиск",value:s.modelValue,onInput:e[0]||(e[0]=(...t)=>l.updateInput&&l.updateInput(...t))},null,40,z),Q],32)}var H={props:{modelValue:{type:String}},methods:{updateInput(t){this.$emit("update:modelValue",t.target.value)}}};const K=(0,O.Z)(H,[["render",A],["__scopeId","data-v-c18615ca"]]);var T=K;const Y=t=>((0,o.dD)("data-v-16ac277e"),t=t(),(0,o.Cn)(),t),q={class:"loader"},B=Y((()=>(0,o._)("div",{class:"lds-spinner"},[(0,o._)("div"),(0,o._)("div"),(0,o._)("div"),(0,o._)("div"),(0,o._)("div"),(0,o._)("div"),(0,o._)("div"),(0,o._)("div"),(0,o._)("div"),(0,o._)("div"),(0,o._)("div"),(0,o._)("div")],-1))),E=[B];function U(t,e,s,a,n,r){return(0,o.wg)(),(0,o.iD)("div",q,E)}var W={};const $=(0,O.Z)(W,[["render",U],["__scopeId","data-v-16ac277e"]]);var G=$,J={components:{PostTable:V,PostItem:F,SearchForm:T,Loader:G},data(){return{posts:[],page:1,limit:10,totalPages:0,postLoaded:!1,selectedSort:"",searchQuery:"",switch:!1}},methods:{async loadPosts(){try{this.postLoaded=!0;const t=await f().get("https://jsonplaceholder.typicode.com/posts",{params:{_page:this.page,_limit:this.limit}});this.totalPages=Math.ceil(t.headers["x-total-count"]/this.limit),this.posts=t.data}catch(t){alert("Что-то пошло не по плану")}finally{this.postLoaded=!1}},changePage(t){this.page=t,this.loadPosts()},nextPage(){this.page<this.totalPages&&(this.page+=1,this.loadPosts())},prevPage(){this.page>1&&(this.page-=1,this.loadPosts())}},mounted(){this.loadPosts()},computed:{sortedPosts(){return"id"===this.selectedSort?[...this.posts].sort(((t,e)=>t[this.selectedSort]-e[this.selectedSort])):[...this.posts].sort(((t,e)=>t[this.selectedSort]?.localeCompare(e[this.selectedSort])))},sortedAndSearchedPosts(){return this.sortedPosts.filter((t=>t.title.toLowerCase().includes(this.searchQuery.toLowerCase())))}}};const N=(0,O.Z)(J,[["render",v]]);var R=N;const X=(0,a.ri)(R);X.mount("#app")}},e={};function s(a){var o=e[a];if(void 0!==o)return o.exports;var n=e[a]={exports:{}};return t[a](n,n.exports,s),n.exports}s.m=t,function(){var t=[];s.O=function(e,a,o,n){if(!a){var r=1/0;for(d=0;d<t.length;d++){a=t[d][0],o=t[d][1],n=t[d][2];for(var l=!0,i=0;i<a.length;i++)(!1&n||r>=n)&&Object.keys(s.O).every((function(t){return s.O[t](a[i])}))?a.splice(i--,1):(l=!1,n<r&&(r=n));if(l){t.splice(d--,1);var c=o();void 0!==c&&(e=c)}}return e}n=n||0;for(var d=t.length;d>0&&t[d-1][2]>n;d--)t[d]=t[d-1];t[d]=[a,o,n]}}(),function(){s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,{a:e}),e}}(),function(){s.d=function(t,e){for(var a in e)s.o(e,a)&&!s.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};s.O.j=function(e){return 0===t[e]};var e=function(e,a){var o,n,r=a[0],l=a[1],i=a[2],c=0;if(r.some((function(e){return 0!==t[e]}))){for(o in l)s.o(l,o)&&(s.m[o]=l[o]);if(i)var d=i(s)}for(e&&e(a);c<r.length;c++)n=r[c],s.o(t,n)&&t[n]&&t[n][0](),t[n]=0;return s.O(d)},a=self["webpackChunktestovoe_sector_business"]=self["webpackChunktestovoe_sector_business"]||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))}();var a=s.O(void 0,[998],(function(){return s(9560)}));a=s.O(a)})();
//# sourceMappingURL=app.92696f9d.js.map